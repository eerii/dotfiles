{
    "layer": "top",
        "modules-left": ["power-profiles-daemon", "clock", "sway/workspaces", "custom/scratchpad", "custom/github", "systemd-failed-units"],
        "modules-center": [],
        "modules-right": ["tray", "custom/dunst", "custom/fans", "custom/timer", "pulseaudio", "network", "battery"],
        "clock": {
            "interval": 60,
            "format": "{:%H:%M}",
            "max-length": 25,
            "on-click": "swaynagmode -t 'warning' -m 'Exit Sway?' -b 'Exit' 'swaymsg exit' -b 'Reload' 'swaymsg reload'"
        },
        "power-profiles-daemon": {
            "format": "{icon}",
            "tooltip-format": "Power profile: {profile}\nDriver: {driver}",
            "tooltip": true,
            "format-icons": {
                "performance": "󱐋",
                "balanced": "󰌵",
                "power-saver": ""
            }
        },
        "sway/workspaces": {
            "format": "{name}",
            "format": "{icon}",
            "tooltip": false,
            "format-icons": {
                "1": "󰇮",
                "2": "󰖟",
                "urgent": "",
                "focused": "",
                "default": "",
            },
            "persistent-workspaces": {
                "1": [], "2": [], "3": [], "4": [],
            }
        },
        "custom/scratchpad": {
            "interval": 3,
            "return-type": "json",
            "exec": "swaymsg -t get_tree | jq --unbuffered --compact-output '(recurse(.nodes[]) | select(.name == \"__i3_scratch\") | .focus) as $scratch_ids | [..  | (.nodes? + .floating_nodes?) // empty | .[] | select(.id |IN($scratch_ids[]))] as $scratch_nodes | if ($scratch_nodes|length) > 1 then { text: \"\\($scratch_nodes | length)\", tooltip: $scratch_nodes | map(\"\\(.app_id // .window_properties.class) (\\(.id)): \\(.name)\") | join(\"\\n\") } else empty end'",
            "format": "󱞂 {}",
            "on-click": "exec swaymsg 'scratchpad show'",
            "on-click-right": "exec swaymsg 'move scratchpad'"
        },
        "custom/github": {
            "format": " {}",
            "return-type": "json",
            "interval": 300,
            "exec": "~/.config/waybar/scripts/github",
            "on-click": "xdg-open https://github.com/notifications"
        },
        "systemd-failed-units": {
            "format": " {nr_failed}",
            "on-click": "exec foot --app-id=\"foot-ps\" /bin/bash -c \"systemctl list-units --state=failed && systemctl --user list-units --state=failed; read\""
        }, 
        "tray": {
            "icon-size": 21,
            "spacing": 10
        },
        "custom/dunst": {
            "exec": "~/.config/waybar/scripts/dunst",
            "on-click": "dunstctl set-paused toggle",
            "restart-interval": 5,
        },
        "custom/fans": {
            "exec": "~/.config/waybar/scripts/fans --get",
            "on-click": "~/.config/waybar/scripts/fans",
            "return-type": "json",
            "restart-interval": 5,
        },
        "custom/timer": {
            "exec": "~/.config/waybar/scripts/timer updateandprint",
            "exec-on-event": true,
            "return-type": "json",
            "interval": 3,
            "signal": 4,
            "format": "{icon}{}",
            "format-icons": {
                "standby": "󱦟",
                "running": "󰞌",
                "paused": "󰏥"
            },
            "on-click": "~/.config/waybar/scripts/timer new 15 'notify-send \"Timer finished\"'",
            "on-click-middle": "~/.config/waybar/scripts/timer cancel",
            "on-click-right": "~/.config/waybar/scripts/timer togglepause",
            "on-scroll-up": "~/.config/waybar/scripts/timer increase 60 || ~/.config/waybar/scripts/timer new 1 'notify-send -u critical \"Timer finished\"'",
            "on-scroll-down": "~/.config/waybar/scripts/timer increase -60"
        },
        "pulseaudio": {
            "format": "{icon}",
            "format-muted": "󰝟",
            "format-tooltip": "{volume}%",
            "format-icons": {
                "headphone": "",
                "default": ["󰕿", "󰖀", "󰕾"]
            },
            "on-click": "easyeffects",
            "scroll-step": 1,
            "ignored-sinks": ["Easy Effects Sink"]
        },
        "network": {
            "interface": "wlp3s0",
            "format": "{ifname}",
            "format-wifi": "󰤨",
            "format-ethernet": "󰈀",
            "format-disconnected": "󰤮",
            "tooltip-format-wifi": "{essid}",
            "tooltip-format-ethernet": "{ipaddr}/{cidr}",
        },
        "battery": {
            "states": {
                "warning": 30,
                "critical": 15
            },
            "format": "{icon}",
            "format-icons": ["󰂎", "󰁺", "󰁻", "󰁼", "󰁽", "󰁾", "󰁿", "󰂀", "󰂁", "󰂂", "󰁹"],
            "format-charging": "󰂅 {capacity}%",
            "tooltip-format": "{capacity}%",
        },
}
